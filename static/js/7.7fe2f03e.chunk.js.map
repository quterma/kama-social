{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.css","components/Common/Paginator/Paginator.module.css","components/Users/User/User.module.css","components/Common/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","Redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","PageNumber","thisNumber","onClick","currentPage","className","styles","span","selectedPage","Paginator","props","totalPages","Math","ceil","totalUsersCount","pageSize","useState","firstShownPage","setFirstShownPage","shownPages","map","n","key","onPageChanged","pageSelectorsContainer","button","Preloader","User","user","isFollowingInProcess","unfollow","follow","id","to","avatar","src","photos","small","alt","followed","disabled","some","name","status","Users","wrapper","users","getUsers","state","usersPage","getpageSize","getTotalUsersCount","getCurrentPage","getIsFollowingInProcess","UsersApiComponent","bind","this","getUsersThunk","pageNumber","setCurrentPage","isFetching","Component","mdtp","compose","connect"],"mappings":"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","file":"static/js/7.7fe2f03e.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__mYm3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageSelectorsContainer\":\"Paginator_pageSelectorsContainer__1yswK\",\"selectedPage\":\"Paginator_selectedPage__1LCIq\",\"span\":\"Paginator_span__1MqSI\",\"button\":\"Paginator_button__3r5Fv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"User_avatar__324qs\"};","import React, { useState } from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\nimport { Preloader } from './../Preloader/Preloader';\r\n\r\nconst PageNumber = ({ thisNumber, onClick, currentPage }) => {\r\n\treturn (\r\n\t\t<span onClick={() => onClick(thisNumber)}\tclassName={currentPage === thisNumber ? `${styles.span} ${styles.selectedPage}` : styles.span}>\r\n\t\t\t{thisNumber}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\n\r\nexport const Paginator = props => {\r\n\t// totalUsersCount берется с сервера, pageSize - кол-во элементов на странице - пока захардкожено в initialState\r\n\tconst totalPages = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\t// hook for filteredPages\r\n\tconst [firstShownPage, setFirstShownPage] = useState(1);\r\n\tconst goRight = () => {\r\n\t\tconst newState = firstShownPage + 10 > totalPages ? firstShownPage : firstShownPage + 10;\r\n\t\tsetFirstShownPage(newState);\r\n\t}\r\n\tconst goLeft = () => {\r\n\t\tconst newState = firstShownPage - 10 < 1 ? 1 : firstShownPage - 10;\r\n\t\tsetFirstShownPage(newState);\r\n\t}\r\n\r\n\tconst shownPages = [...Array(firstShownPage + 9 <= totalPages ? 10 : totalPages - firstShownPage + 1)]\r\n\t\t.map((n, i) => <PageNumber key={i + firstShownPage} thisNumber={i + firstShownPage} onClick={props.onPageChanged} currentPage={props.currentPage} />);\r\n\t\r\n\tif (!totalPages) return <Preloader />\r\n\r\n\treturn (\r\n\t\t<div className={styles.pageSelectorsContainer}>\r\n\t\t\t{firstShownPage !== 1 && <button className={styles.button} onClick={goLeft}>left</button>}\r\n\t\t\t{shownPages}\r\n\t\t\t{firstShownPage + 9 <= totalPages && <button className={styles.button} onClick={goRight}>right</button>}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport styles from \"./User.module.css\";\r\nimport avatar from \"./../../../assets/images/incognito.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n//Dem component\r\nexport const User = ({user, isFollowingInProcess, unfollow, follow}) => {\r\n\r\n\treturn (\r\n\t\t\t\t<div key={user.id}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{/* avatar */}\r\n\t\t\t\t\t\t<NavLink to={\"/Profile/\" + user.id}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img className={styles.avatar} src={user.photos.small != null ? user.photos.small : avatar} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t{/* button toggler follow/unfollow */}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{user.followed ? (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tdisabled={isFollowingInProcess.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\tonClick={() => unfollow(user.id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tUnfollow\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tdisabled={isFollowingInProcess.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\tonClick={() => follow(user.id)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFollow\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{/* user's name and status */}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<div>{user.name}</div>\r\n\t\t\t\t\t\t\t<div>{user.status}</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t{/* user's location */}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<div>{\"user.location.country\"}</div>\r\n\t\t\t\t\t\t\t<div>{\"user.location.city\"}</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t</div>\r\n\t)\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport { Paginator } from \"../Common/Paginator/Paginator\";\r\nimport { User } from './User/User';\r\n\r\n//Dem component\r\nexport const Users = props => {\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<Paginator onPageChanged={props.onPageChanged} totalUsersCount={props.totalUsersCount}\r\n\t\t\t\tpageSize={props.pageSize} currentPage={props.currentPage} />\r\n\t\t\t{props.users.map(user => <User key={user.id} user={user} isFollowingInProcess={props.isFollowingInProcess}\r\n\t\t\t\tunfollow={props.unfollow} follow={props.follow} />)}\r\n\t\t</div>\r\n\t)\r\n};\r\n","export const getUsers = state => {\r\n\treturn state.usersPage.users;\r\n};\r\n\r\nexport const getpageSize = state => {\r\n\treturn state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = state => {\r\n\treturn state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = state => {\r\n\treturn state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFollowingInProcess = state => {\r\n\treturn state.usersPage.isFollowingInProcess;\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, getUsersThunk } from \"../../Redux/usersReducer\";\r\nimport { Users } from \"./Users\";\r\nimport { Preloader } from \"../Common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { getpageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFollowingInProcess } from './../../Redux/usersSelectors';\r\n\r\n// Class component - container for ajax requests\r\nclass UsersApiComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onPageChanged = this.onPageChanged.bind(this);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsersThunk(this.props.currentPage, this.props.pageSize);\r\n\t}\r\n\r\n\tonPageChanged(pageNumber) {\r\n\t\tthis.props.setCurrentPage(pageNumber);\r\n\t\tthis.props.getUsersThunk(pageNumber, this.props.pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.isFetching) {\r\n\t\t\treturn <Preloader />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{/* {this.props.isFetching && <Preloader />} */}\r\n\t\t\t\t<Users\r\n\t\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\t\tusers={this.props.users}\r\n\t\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\t\tisFollowingInProcess={this.props.isFollowingInProcess}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mstp = state => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getpageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFollowingInProcess: getIsFollowingInProcess(state),\r\n\t};\r\n};\r\n\r\n// берет нужные диспатч методы из редакс стора\r\nconst mdtp = {\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\tgetUsersThunk,\r\n};\r\n\r\n// compose (from redux) объединяет несколько Хоков и прочих надстроек - аргументы в обратной очередности от вызова\r\nexport default compose(connect(mstp, mdtp))(UsersApiComponent);\r\n"],"sourceRoot":""}