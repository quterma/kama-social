{"version":3,"sources":["components/Header/Header.module.css","Redux/authReducer.js","components/Navbar/Friends/Friend/Friend.module.css","components/Navbar/Friends/Friends.module.css","components/Common/Preloader/Preloader.jsx","App.module.css","assets/images/incognito.png","Redux/profileReducer.js","components/Navbar/Navbar.module.css","Redux/dialogsReducer.js","components/Common/Utils/ObjectHelpers.js","Redux/usersReducer.js","assets/images/react.png","components/Common/Preloader/Preloader.module.css","api/api.js","serviceWorker.js","components/Navbar/Friends/Friend/Friend.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","Redux/appReducer.js","App.js","Redux/redux-store.js","index.js"],"names":["module","exports","initialState","id","email","login","isAuth","photo","error","captchaUrl","setAuthUserData","type","payload","setCaptchaUrl","getAuth","dispatch","a","authAPI","data","resultCode","profileAPI","getProfile","request","photos","small","password","rememberMe","captcha","userId","securityAPI","getCaptchaUrl","response","url","messages","logout","authReducer","state","action","Preloader","className","styles","ldsRing","posts","post","likes","profile","status","addMyPostAC","newPostText","setStatus","getUserProfile","getStatus","updateStatus","savePhoto","file","saveProfile","getState","auth","profileReducer","newPost","filter","postId","persons","name","avatar","isFriend","message","addMyMessageAC","newMessageText","dialogsReducer","newMessage","updateObjectInArray","items","itemId","objPropName","newProps","map","user","users","pageSize","totalUsersCount","currentPage","isFetching","isFollowingInProcess","followAC","unfollowAC","setCurrentPage","toggleIsFetching","toggleIsFollowingInProgress","getUsersThunk","page","usersAPI","getUsers","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","usersReducer","followed","instance","axios","baseURL","withCredentials","headers","get","then","delete","put","formData","FormData","append","Boolean","window","location","hostname","match","Friend","props","path","item","src","alt","activeClassName","active","to","Friends","chosenFriends","person","key","wrapper","title","container","FriendsContainer","connect","dialogsPage","Navbar","link","margin50","Header","logo","apiLink","target","rel","href","loginWrapper","incognito","onClick","HeaderApiContainer","this","Component","HeaderContainer","initialized","appReducer","ProfileContainer","React","lazy","DialogsContainer","UsersContainer","LoginPage","Settings","Music","News","App","initializeApp","gridContent","fallback","render","component","mdtp","compose","withRouter","app","reducers","combineReducers","profilePage","usersPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.0f07df48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__2bJnq\",\"logo\":\"Header_logo__1WCDI\",\"loginWrapper\":\"Header_loginWrapper__31g5r\",\"avatar\":\"Header_avatar__iaW6F\",\"apiLink\":\"Header_apiLink__3sUNX\"};","import { profileAPI, authAPI, securityAPI } from \"./../api/api\";\r\n\r\n// constants for action types\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst SET_USER_PHOTO = \"SET_USER_PHOTO\";\r\nconst SET_ERROR = \"SET_ERROR\";\r\nconst SET_CAPTCHA_URL = \"SET_CAPTCHA_URL\";\r\n\r\n// initial state for first load\r\nconst initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tphoto: null,\r\n\terror: null,\r\n\tcaptchaUrl: null,\r\n};\r\n\r\n// get state and action, create COPY of STATE!, change it and return new state (if no changes - returns old one)\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn { ...state, ...action.payload };\r\n\r\n\t\tcase SET_USER_PHOTO:\r\n\t\t\treturn { ...state, ...action };\r\n\r\n\t\tcase SET_ERROR:\r\n\t\t\treturn { ...state, ...action };\r\n\r\n\t\tcase SET_CAPTCHA_URL:\r\n\t\t\treturn { ...state, ...action };\r\n\r\n\t\t// if action not matched - return old state\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// action creators - to avoid string typing\r\nconst setAuthUserData = (id, email, login, isAuth, error) => ({ type: SET_USER_DATA, payload: { id, email, login, isAuth, error } });\r\nconst setAuthUserPhoto = photo => ({ type: SET_USER_PHOTO, photo });\r\nconst setError = error => ({ type: SET_ERROR, error });\r\nconst setCaptchaUrl = captchaUrl => ({ type: SET_CAPTCHA_URL, captchaUrl });\r\n\r\n// thunk creators\r\nexport const getAuth = () => async dispatch => {\r\n\tconst data = await authAPI.getAuth();\r\n\tif (data.resultCode === 0) {\r\n\t\tconst { id, email, login } = data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true, null));\r\n\t\tconst request = await profileAPI.getProfile(id);\r\n\t\tdispatch(setAuthUserPhoto(request.photos.small));\r\n\t}\r\n};\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n\tconst response = await securityAPI.getCaptchaUrl();\r\n\tconst captchaUrl = response.data.url;\r\n\tdispatch(setCaptchaUrl(captchaUrl));\r\n};\r\n\r\nexport const login = (login, password, rememberMe, captcha) => async dispatch => {\r\n\tconst request = await authAPI.login(login, password, rememberMe, captcha);\r\n\tif (request.data.resultCode === 0) {\r\n\t\tdispatch(getAuth(request.data.userId));\r\n\t} else {\r\n\t\tif (request.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl());\r\n\t\t}\r\n\t\tdispatch(setError(request.data.messages[0]));\r\n\t}\r\n};\r\nexport const logout = () => async dispatch => {\r\n\tconst request = await authAPI.logout();\r\n\tif (request.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false, null));\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Friend_item__1ov5j\",\"active\":\"Friend_active__n33DK\",\"avatar\":\"Friend_avatar__15a0q\",\"name\":\"Friend_name__3om4g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Friends_wrapper__ZlxJX\",\"title\":\"Friends_title__1gMZn\",\"container\":\"Friends_container__2Q34y\"};","import React from \"react\";\r\nimport styles from \"./Preloader.module.css\";\r\n\r\nexport const Preloader = () => {\r\n\treturn (\r\n\t\t<div className={styles.ldsRing}>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t\t<div></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__bAeat\",\"gridContent\":\"App_gridContent__2CXl5\"};","module.exports = __webpack_public_path__ + \"static/media/incognito.0856ad08.png\";","import { profileAPI } from \"./../api/api\";\r\n\r\n// constants for action types\r\nconst ADD_MY_POST = \"ADD_MY_POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n// const SAVE_PROFILE_SUCCESS = \"SAVE_PROFILE_SUCCESS\";\r\n\r\n// initial state for first load\r\nconst initialState = {\r\n\tposts: [\r\n\t\t// мои (?) мессаги в Профиле\r\n\t\t{ id: 1, post: \"Hi, how r u?\", likes: 15 },\r\n\t\t{ id: 2, post: \"it is my 1st post\", likes: 20 },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: \"\",\r\n};\r\n\r\n// get state and action, create COPY of STATE!, change it and return new state (if no changes - returns old one)\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MY_POST:\r\n\t\t\tif (action.newPostText === \"\") return state;\r\n\r\n\t\t\tconst newPost = {\r\n\t\t\t\tid: 10,\r\n\t\t\t\tpost: action.newPostText,\r\n\t\t\t\tlikes: 0,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t};\r\n\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn { ...state, profile: action.profile };\r\n\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn { ...state, status: action.status };\r\n\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn { ...state, posts: state.posts.filter(post => post.id !== action.postId) };\r\n\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn { ...state, profile: { ...state.profile, photos: action.photos } };\r\n\r\n\t\t// case SAVE_PROFILE_SUCCESS:\r\n\t\t// \treturn { ...state, profile: { ...state.profile, photos: action.photos } };\r\n\r\n\t\t// if action not matched - return old state\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// action creators - to avoid string typing\r\nexport const addMyPostAC = newPostText => ({ type: ADD_MY_POST, newPostText });\r\nconst setUserProfile = profile => ({ type: SET_USER_PROFILE, profile });\r\nconst setStatus = status => ({ type: SET_STATUS, status });\r\nexport const deletePost = postId => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = photos => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n// export const saveProfileSuccess = data => ({ type: SAVE_PROFILE_SUCCESS, data });\r\n\r\n// thunk creators\r\nexport const getUserProfile = userId => async dispatch => {\r\n\tconst data = await profileAPI.getProfile(userId);\r\n\tdispatch(setUserProfile(data));\r\n};\r\nexport const getStatus = userId => async dispatch => {\r\n\tconst data = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(data));\r\n};\r\nexport const updateStatus = status => async dispatch => {\r\n\tif (!status) status = \"\";\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status));\r\n\t}\r\n};\r\nexport const savePhoto = file => async dispatch => {\r\n\tconst response = await profileAPI.savePhoto(file);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t}\r\n};\r\nexport const saveProfile = profile => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id;\r\n\tconst response = await profileAPI.saveProfile(profile);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userId));\r\n\t\t// dispatch(saveProfileSuccess(response.data.data));\r\n\t}\r\n};\r\n\r\nexport default profileReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Navbar_wrapper__haNKK\",\"item\":\"Navbar_item__1WWw5\",\"link\":\"Navbar_link__1tLpG\",\"active\":\"Navbar_active__1iM8M\",\"margin50\":\"Navbar_margin50__3Ya8D\"};","// constants for action types\r\nconst ADD_MY_MESSAGE = \"ADD_MY_MESSAGE\";\r\n\r\n// initial state for first load\r\nconst initialState = {\r\n\tpersons: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tname: \"person-1\",\r\n\t\t\tavatar: \"https://picsum.photos/45\",\r\n\t\t\tisFriend: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tname: \"person-2\",\r\n\t\t\tavatar: \"https://picsum.photos/46\",\r\n\t\t\tisFriend: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tname: \"person-3\",\r\n\t\t\tavatar: \"https://picsum.photos/47\",\r\n\t\t\tisFriend: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4,\r\n\t\t\tname: \"person-4\",\r\n\t\t\tavatar: \"https://picsum.photos/48\",\r\n\t\t\tisFriend: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 5,\r\n\t\t\tname: \"person-5\",\r\n\t\t\tavatar: \"https://picsum.photos/49\",\r\n\t\t\tisFriend: true,\r\n\t\t},\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: \"Hi !\" },\r\n\t\t{ id: 2, message: \"How are you?\" },\r\n\t\t{ id: 3, message: \"Yo !\" },\r\n\t\t{ id: 4, message: \"Yo\" },\r\n\t\t{ id: 5, message: \"Yo\" },\r\n\t],\r\n};\r\n\r\n// get state and action, make COPY of state!, change it and return new state (if no changes - returns old one)\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\t// вызывается в Dialogs для добавления мессаги в стейт с последующей переотрисовкой UI\r\n\t\tcase ADD_MY_MESSAGE:\r\n\t\t\tif (action.newMessageText === \"\") return state;\r\n\r\n\t\t\tconst newMessage = {\r\n\t\t\t\tid: 10,\r\n\t\t\t\tmessage: action.newMessageText,\r\n\t\t\t};\r\n\r\n\t\t\treturn { ...state, messages: [...state.messages, newMessage] };\r\n\r\n\t\t// if action not matched - return old state\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// action creators\r\nexport const addMyMessageAC = newMessageText => ({ type: ADD_MY_MESSAGE, newMessageText });\r\n\r\nexport default dialogsReducer;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newProps) => {\r\n\treturn items.map(user => (user[objPropName] === itemId ? { ...user, ...newProps } : user));\r\n};\r\n","import { updateObjectInArray } from \"../components/Common/Utils/ObjectHelpers\";\r\nimport { usersAPI } from \"./../api/api\";\r\n\r\n// constants for action types\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\r\n\r\n// initial state for first load\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tisFollowingInProcess: [],\r\n};\r\n\r\n// get state and action, create COPY of STATE!, change it and return new state (if no changes - returns old one)\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\t// reducer for follow button\r\n\t\tcase FOLLOW:\r\n\t\t\treturn { ...state, users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true }) };\r\n\r\n\t\t// reducer for unfollow button\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn { ...state, users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false }) };\r\n\r\n\t\t// reducer for setting users on page\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users };\r\n\r\n\t\t// reducer for setting current page\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.currentPage };\r\n\r\n\t\t// reducer for setting totalUsersCount\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn { ...state, totalUsersCount: action.count };\r\n\r\n\t\t// for toggle isFetching\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching };\r\n\r\n\t\t// for toggle isFetching\r\n\t\tcase TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFollowingInProcess: action.isFetching\r\n\t\t\t\t\t? [...state.isFollowingInProcess, action.userId]\r\n\t\t\t\t\t: state.isFollowingInProcess.filter(id => id !== action.userId),\r\n\t\t\t};\r\n\r\n\t\t// if action not matched - return old state\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// action creators - to avoid string typing\r\nconst followAC = userId => ({ type: FOLLOW, userId });\r\nconst unfollowAC = userId => ({ type: UNFOLLOW, userId });\r\nconst setUsers = users => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = currentPage => ({ type: SET_CURRENT_PAGE, currentPage });\r\nconst setTotalUsersCount = totalUsersCount => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nconst toggleIsFetching = isFetching => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nconst toggleIsFollowingInProgress = (isFetching, userId) => ({\r\n\ttype: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n\tisFetching,\r\n\tuserId,\r\n});\r\n\r\n// thunk creator\r\nexport const getUsersThunk = (page, pageSize) => async dispatch => {\r\n\tdispatch(toggleIsFetching(true));\r\n\tconst data = await usersAPI.getUsers(page, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setCurrentPage(page));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\n//antiDoubleCode f()\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleIsFollowingInProgress(true, userId));\r\n\tconst data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) dispatch(actionCreator(userId));\r\n\tdispatch(toggleIsFollowingInProgress(false, userId));\r\n};\r\n\r\n// thunk creator\r\nexport const follow = userId => async dispatch => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followAC);\r\n};\r\n\r\n// thunk creator\r\nexport const unfollow = userId => async dispatch => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowAC);\r\n};\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/react.56cbceaf.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRing\":\"Preloader_ldsRing__1TPNK\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"9d885aec-0e55-4d92-a640-1f14725751f5\",\r\n\t},\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 5) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n\t},\r\n\r\n\tunfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`).then(response => response.data);\r\n\t},\r\n\r\n\tfollow(id) {\r\n\t\treturn instance.post(`follow/${id}`, {}).then(response => response.data);\r\n\t},\r\n};\r\n\r\nexport const authAPI = {\r\n\tgetAuth() {\r\n\t\treturn instance.get(`auth/me`).then(response => response.data);\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t},\r\n};\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => response.data);\r\n\t},\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => response.data);\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status });\r\n\t},\r\n\r\n\tsavePhoto(file) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", file);\r\n\t\treturn instance.put(`profile/photo`, formData, { headers: { \"Content-Type\": \"multipart/form-data\" } });\r\n\t},\r\n\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile);\r\n\t},\r\n};\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`);\r\n\t},\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport styles from \"./Friend.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n// Дем компонента\r\nconst Friend = props => {\r\n\tconst path = \"/dialogs/\" + props.id;\r\n\treturn (\r\n\t\t<div className={styles.item}>\r\n\t\t\t<img className={styles.avatar} src={props.avatar} alt=\"avatar\" />\r\n\t\t\t<NavLink\r\n\t\t\t\tclassName={styles.name}\r\n\t\t\t\tactiveClassName={styles.active}\r\n\t\t\t\tto={path}\r\n\t\t\t>\r\n\t\t\t\t{props.name}\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Friend;\r\n","import React from \"react\";\r\nimport styles from \"./Friends.module.css\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n// Дем компонента, мапит из пропс.persons объект из компонент Friend и рендерит\r\nconst Friends = props => {\r\n\tconst chosenFriends = props.persons.map(person => {\r\n\t\treturn (\r\n\t\t\tperson.isFriend && (\r\n\t\t\t\t<Friend\r\n\t\t\t\t\tname={person.name}\r\n\t\t\t\t\tkey={person.id}\r\n\t\t\t\t\tid={person.id}\r\n\t\t\t\t\tavatar={person.avatar}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<h3 className={styles.title}>Friends</h3>\r\n\t\t\t<div className={styles.container}>{chosenFriends}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Friends;\r\n","import { connect } from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\n// берет стейт из редакс стора и возвращает ветку persons\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tpersons: state.dialogsPage.persons,\r\n\t};\r\n};\r\n\r\n// передает пропсы (из mapStateToProps) в компоненту Friends, и вызывает Friends (React-Redux)\r\nconst FriendsContainer = connect(mapStateToProps)(Friends);\r\n\r\nexport default FriendsContainer;\r\n","import React from \"react\";\r\nimport styles from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\n// компонента (Dem) рендерит навлинки меню (надо загнать в подкомпоненты) и компоненту FriendsContainer (Cont)\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={styles.wrapper}>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link} activeClassName={styles.active} to=\"/Profile\">\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link} activeClassName={styles.active} to=\"/Dialogs\">\r\n\t\t\t\t\tDialogs\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link} activeClassName={styles.active} to=\"/Users\">\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link} activeClassName={styles.active} to=\"/News\">\r\n\t\t\t\t\tNews\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link} activeClassName={styles.active} to=\"/Music\">\r\n\t\t\t\t\tMusic\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink className={styles.link + \" \" + styles.margin50} activeClassName={styles.active} to=\"/Settings\">\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<FriendsContainer />\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport incognito from \"./../../assets/images/incognito.png\";\r\nimport logo from \"./../../assets/images/react.png\";\r\n\r\n// Дем компонента\r\nconst Header = props => {\r\n\treturn (\r\n\t\t<header className={styles.wrapper}>\r\n\t\t\t<img className={styles.logo} src={logo} alt=\"logo\" />\r\n\t\t\t<a className={styles.apiLink} target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://social-network.samuraijs.com\">\r\n\t\t\t\tSamuraiJS Social Network API\r\n\t\t\t</a>\r\n\t\t\t<a className={styles.apiLink} target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://quterma.github.io/kama-social\">\r\n\t\t\t\thttps://quterma.github.io/kama-social\r\n\t\t\t</a>\r\n\t\t\t<div className={styles.loginWrapper}>\r\n\t\t\t\t{props.isAuth ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img className={styles.avatar} src={props.photo ? props.photo : incognito} alt=\"ava\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>{props.login}</div>\r\n\t\t\t\t\t\t<button onClick={props.logout}>Logout</button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NavLink to={\"/login\"}>Login</NavLink>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"./../../Redux/authReducer\";\r\n\r\n// class component - container\r\nclass HeaderApiContainer extends Component {\r\n\r\n\trender() {\r\n\t\treturn <Header {...this.props} />;\r\n\t}\r\n}\r\n\r\nconst mstp = state => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n\tid: state.auth.id,\r\n\tphoto: state.auth.photo,\r\n});\r\n\r\nexport const HeaderContainer = connect(mstp, { logout })(HeaderApiContainer);\r\n","import { getAuth } from \"./authReducer\";\r\n\r\n// constants for action types\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\n// initial state for first load\r\nconst initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\n// get state and action, create COPY of STATE!, change it and return new state (if no changes - returns old one)\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn { ...state, initialized: true };\r\n\r\n\t\t// if action not matched - return old state\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// action creators - to avoid string typing\r\nconst initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\n// thunk creators\r\nexport const initializeApp = () => async dispatch => {\r\n\tawait dispatch(getAuth());\r\n\tdispatch(initializedSuccess());\r\n};\r\n\r\nexport default appReducer;\r\n","import React, { Component, Suspense } from \"react\";\nimport styles from \"./App.module.css\";\nimport \"./css/reset.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport { HeaderContainer } from \"./components/Header/HeaderContainer\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./Redux/appReducer\";\nimport { Preloader } from \"./components/Common/Preloader/Preloader\";\n\n// lazy imports of all routed components\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst LoginPage = React.lazy(() => import(\"./components/Login/Login\"));\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\nconst Music = React.lazy(() => import(\"./components/Music/Music\"));\nconst News = React.lazy(() => import(\"./components/News/News\"));\n\n// верхняя компонента\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp();\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={styles.wrapper}>\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className={styles.gridContent}>\n\t\t\t\t\t<Suspense fallback={<Preloader />}>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\n\t\t\t\t\t\t\t<Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n\t\t\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer />} />\n\t\t\t\t\t\t\t<Route path=\"/login\" render={() => <LoginPage />} />\n\t\t\t\t\t\t\t<Route path=\"/news\" component={News} />\n\t\t\t\t\t\t\t<Route path=\"/music\" component={Music} />\n\t\t\t\t\t\t\t<Route path=\"/settings\" component={Settings} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mstp = state => ({ initialized: state.app.initialized, userId: state.auth.id });\nconst mdtp = { initializeApp };\n\nexport default compose(withRouter, connect(mstp, mdtp))(App);\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\n// соединяет наши редьюсеры (см импорт) с создаваемым с помощь редакса стором\r\nconst reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n\r\n// for tests\r\nwindow.__store__ = store;\r\n","import \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport { Provider } from \"react-redux\";\n\n// рендерит App через Provider (React-Redux), который создает контекст с объектом store (из redux-store)\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</HashRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}